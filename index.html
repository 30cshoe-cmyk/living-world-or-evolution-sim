<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Living World — Softlands</title>

<style>
body {
  margin: 0;
  background: #0b1020;
  color: #cfe8ff;
  font-family: monospace;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

#status {
  padding: 12px 20px;
  background: rgba(10,15,30,0.9);
  display: flex;
  gap: 30px;
}

#main {
  flex: 1;
  display: grid;
  grid-template-columns: 260px 1fr;
}

#levers {
  padding: 16px;
  background: rgba(10,15,30,0.85);
  border-right: 1px solid rgba(120,180,255,0.2);
}

#levers h3 {
  margin-top: 0;
}

.lever {
  margin-bottom: 14px;
}

.lever label {
  display: block;
  margin-bottom: 4px;
}

canvas {
  width: 100%;
  height: 100%;
  image-rendering: pixelated;
  display: block;
}

#events {
  padding: 10px 20px;
  background: rgba(10,15,30,0.9);
  font-size: 14px;
}
</style>
</head>

<body>

<div id="status">
  <div>Biome: Softlands</div>
  <div>Tick: <span id="tick">0</span></div>
</div>

<div id="main">
  <div id="levers">
    <h3>World Levers</h3>

    <div class="lever">
      <label>Time Flow</label>
      <input id="time" type="range" min="1" max="5" value="2">
    </div>

    <div class="lever">
      <label>Heat</label>
      <input id="heat" type="range" min="0" max="100" value="50">
    </div>

    <div class="lever">
      <label>Magic</label>
      <input id="magic" type="range" min="0" max="100" value="10">
    </div>
  </div>

  <canvas id="world"></canvas>
</div>

<div id="events">
  • The Softlands lie peacefully.
</div>

<script>
const canvas = document.getElementById("world");
const ctx = canvas.getContext("2d");

/* HIGHER INTERNAL RESOLUTION = MORE PIXELS */
canvas.width = 960;
canvas.height = 540;

let tick = 0;
let cloudOffset = 0;

/* STATIC FLOWERS (generated once) */
const flowers = [];
for (let i = 0; i < 120; i++) {
  flowers.push({
    x: Math.random() * canvas.width,
    y: 420 + Math.random() * 80,
    c: Math.random() > 0.5 ? "#f2c1d1" : "#e8e29b"
  });
}

function drawSky() {
  for (let y = 0; y < canvas.height; y++) {
    const t = y / canvas.height;
    ctx.fillStyle = `rgb(
      ${170 + t*50},
      ${190 + t*30},
      ${230 - t*40}
    )`;
    ctx.fillRect(0, y, canvas.width, 1);
  }
}

function drawClouds(speed) {
  cloudOffset += speed;
  ctx.fillStyle = "rgba(255,255,255,0.75)";

  for (let i = 0; i < 4; i++) {
    const x = (cloudOffset + i*260) % (canvas.width + 300) - 150;
    const y = 80 + i*12;

    ctx.fillRect(x, y, 120, 24);
    ctx.fillRect(x + 40, y - 12, 160, 32);
    ctx.fillRect(x + 100, y + 6, 100, 20);
  }
}

function drawMountains() {
  ctx.fillStyle = "#7a86b8";
  ctx.beginPath();
  ctx.moveTo(0,360);
  ctx.lineTo(120,240);
  ctx.lineTo(240,300);
  ctx.lineTo(360,220);
  ctx.lineTo(480,300);
  ctx.lineTo(600,230);
  ctx.lineTo(720,310);
  ctx.lineTo(960,260);
  ctx.lineTo(960,540);
  ctx.lineTo(0,540);
  ctx.fill();
}

function drawForest() {
  for (let x = 0; x < canvas.width; x += 10) {
    const h = 70 + (x % 30);
    ctx.fillStyle = "#2f4f44";
    ctx.fillRect(x, 350, 8, h);
  }
}

function drawMeadow() {
  ctx.fillStyle = "#6fa37c";
  ctx.beginPath();
  ctx.moveTo(0,420);
  ctx.lineTo(200,390);
  ctx.lineTo(400,410);
  ctx.lineTo(600,380);
  ctx.lineTo(800,400);
  ctx.lineTo(960,390);
  ctx.lineTo(960,540);
  ctx.lineTo(0,540);
  ctx.fill();

  /* STATIC FLOWERS */
  for (const f of flowers) {
    ctx.fillStyle = f.c;
    ctx.fillRect(f.x, f.y, 3, 3);
  }
}

function update() {
  tick++;
  document.getElementById("tick").textContent = tick;

  const time = +document.getElementById("time").value;

  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawSky();
  drawClouds(0.15 * time);
  drawMountains();
  drawForest();
  drawMeadow();
}

setInterval(update, 1000);
</script>

</body>
</html>
