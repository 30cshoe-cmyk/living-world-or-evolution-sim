<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Living World — Softlands</title>

<style>
body {
  margin: 0;
  background: #0b1020;
  color: #cfe8ff;
  font-family: monospace;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

#status {
  padding: 12px 20px;
  background: rgba(10,15,30,0.9);
  display: flex;
  gap: 30px;
}

#main {
  flex: 1;
  display: grid;
  grid-template-columns: 260px 1fr;
}

#levers {
  padding: 16px;
  background: rgba(10,15,30,0.85);
  border-right: 1px solid rgba(120,180,255,0.2);
}

#levers h3 {
  margin-top: 0;
}

.lever {
  margin-bottom: 14px;
}

.lever label {
  display: block;
  margin-bottom: 4px;
}

canvas {
  display: block;
  width: 100%;
  height: 100%;
  image-rendering: pixelated;
}

#events {
  padding: 10px 20px;
  background: rgba(10,15,30,0.9);
  font-size: 14px;
}
</style>
</head>

<body>

<div id="status">
  <div>Biome: Softlands</div>
  <div>Tick: <span id="tick">0</span></div>
</div>

<div id="main">
  <div id="levers">
    <h3>World Levers</h3>

    <div class="lever">
      <label>Time Flow</label>
      <input id="time" type="range" min="1" max="5" value="2">
    </div>

    <div class="lever">
      <label>Heat</label>
      <input id="heat" type="range" min="0" max="100" value="50">
    </div>

    <div class="lever">
      <label>Magic</label>
      <input id="magic" type="range" min="0" max="100" value="10">
    </div>
  </div>

  <canvas id="world"></canvas>
</div>

<div id="events">
  • The Softlands breathe quietly.
</div>

<script>
const canvas = document.getElementById("world");
const ctx = canvas.getContext("2d");

canvas.width = 480;
canvas.height = 270;

let tick = 0;
let cloudOffset = 0;

function drawSky() {
  for (let y = 0; y < canvas.height; y++) {
    const t = y / canvas.height;
    ctx.fillStyle = `rgb(
      ${180 + t*40},
      ${195 + t*20},
      ${230 - t*30}
    )`;
    ctx.fillRect(0, y, canvas.width, 1);
  }
}

function drawClouds(speed) {
  cloudOffset += speed;
  ctx.fillStyle = "rgba(255,255,255,0.8)";

  for (let i = 0; i < 3; i++) {
    const baseX = (cloudOffset + i*180) % (canvas.width+200) - 100;
    const y = 40 + i*8;

    ctx.fillRect(baseX, y, 60, 14);
    ctx.fillRect(baseX+20, y-6, 80, 18);
    ctx.fillRect(baseX+50, y+4, 50, 12);
  }
}

function drawMountains() {
  // far mountains
  ctx.fillStyle = "#8d95c9";
  ctx.beginPath();
  ctx.moveTo(0,170);
  ctx.lineTo(80,120);
  ctx.lineTo(160,150);
  ctx.lineTo(240,110);
  ctx.lineTo(320,150);
  ctx.lineTo(400,120);
  ctx.lineTo(480,160);
  ctx.lineTo(480,270);
  ctx.lineTo(0,270);
  ctx.fill();

  // near mountains
  ctx.fillStyle = "#6e79a8";
  ctx.beginPath();
  ctx.moveTo(0,185);
  ctx.lineTo(70,140);
  ctx.lineTo(150,170);
  ctx.lineTo(230,135);
  ctx.lineTo(310,175);
  ctx.lineTo(390,140);
  ctx.lineTo(480,175);
  ctx.lineTo(480,270);
  ctx.lineTo(0,270);
  ctx.fill();

  // snow hints
  ctx.fillStyle = "rgba(255,255,255,0.7)";
  ctx.fillRect(130,135,30,6);
  ctx.fillRect(260,130,40,6);
}

function drawForest() {
  for (let x = 0; x < canvas.width; x += 6) {
    const h = 30 + (x % 12);
    ctx.fillStyle = "#2c4b40";
    ctx.fillRect(x, 170, 4, h);
  }
}

function drawMeadow() {
  ctx.fillStyle = "#6fa37c";
  ctx.beginPath();
  ctx.moveTo(0,200);
  ctx.lineTo(120,190);
  ctx.lineTo(240,205);
  ctx.lineTo(360,195);
  ctx.lineTo(480,200);
  ctx.lineTo(480,270);
  ctx.lineTo(0,270);
  ctx.fill();

  // flowers
  for (let i = 0; i < 40; i++) {
    const x = Math.random() * canvas.width;
    const y = 210 + Math.random() * 40;
    ctx.fillStyle = i % 2 === 0 ? "#f2c1d1" : "#e8e29b";
    ctx.fillRect(x, y, 2, 2);
  }
}

function update() {
  tick++;
  document.getElementById("tick").textContent = tick;

  const time = +document.getElementById("time").value;

  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawSky();
  drawClouds(0.08 * time);
  drawMountains();
  drawForest();
  drawMeadow();
}

setInterval(update, 1000);
</script>

</body>
</html>
